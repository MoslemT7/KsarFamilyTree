{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Unpacker = exports.Packer = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar channel_1 = require(\"../channel\");\nvar lang_1 = require(\"../lang\");\nvar structure_1 = require(\"./structure\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar TINY_STRING = 0x80;\nvar TINY_LIST = 0x90;\nvar TINY_MAP = 0xa0;\nvar TINY_STRUCT = 0xb0;\nvar NULL = 0xc0;\nvar FLOAT_64 = 0xc1;\nvar FALSE = 0xc2;\nvar TRUE = 0xc3;\nvar INT_8 = 0xc8;\nvar INT_16 = 0xc9;\nvar INT_32 = 0xca;\nvar INT_64 = 0xcb;\nvar STRING_8 = 0xd0;\nvar STRING_16 = 0xd1;\nvar STRING_32 = 0xd2;\nvar LIST_8 = 0xd4;\nvar LIST_16 = 0xd5;\nvar LIST_32 = 0xd6;\nvar BYTES_8 = 0xcc;\nvar BYTES_16 = 0xcd;\nvar BYTES_32 = 0xce;\nvar MAP_8 = 0xd8;\nvar MAP_16 = 0xd9;\nvar MAP_32 = 0xda;\nvar STRUCT_8 = 0xdc;\nvar STRUCT_16 = 0xdd;\n/**\n * Class to pack\n * @access private\n */\nvar Packer = /** @class */function () {\n  /**\n   * @constructor\n   * @param {Chunker} channel the chunker backed by a network channel.\n   */\n  function Packer(channel) {\n    this._ch = channel;\n    this._byteArraysSupported = true;\n  }\n  /**\n   * Creates a packable function out of the provided value\n   * @param x the value to pack\n   * @returns Function\n   */\n  Packer.prototype.packable = function (x, dehydrateStruct) {\n    var _this = this;\n    if (dehydrateStruct === void 0) {\n      dehydrateStruct = lang_1.functional.identity;\n    }\n    try {\n      x = dehydrateStruct(x);\n    } catch (ex) {\n      return function () {\n        throw ex;\n      };\n    }\n    if (x === null) {\n      return function () {\n        return _this._ch.writeUInt8(NULL);\n      };\n    } else if (x === true) {\n      return function () {\n        return _this._ch.writeUInt8(TRUE);\n      };\n    } else if (x === false) {\n      return function () {\n        return _this._ch.writeUInt8(FALSE);\n      };\n    } else if (typeof x === 'number') {\n      return function () {\n        return _this.packFloat(x);\n      };\n    } else if (typeof x === 'string') {\n      return function () {\n        return _this.packString(x);\n      };\n    } else if (typeof x === 'bigint') {\n      return function () {\n        return _this.packInteger((0, neo4j_driver_core_1.int)(x));\n      };\n    } else if ((0, neo4j_driver_core_1.isInt)(x)) {\n      return function () {\n        return _this.packInteger(x);\n      };\n    } else if (x instanceof Int8Array) {\n      return function () {\n        return _this.packBytes(x);\n      };\n    } else if (x instanceof Array) {\n      return function () {\n        _this.packListHeader(x.length);\n        for (var i = 0; i < x.length; i++) {\n          _this.packable(x[i] === undefined ? null : x[i], dehydrateStruct)();\n        }\n      };\n    } else if (isIterable(x)) {\n      return this.packableIterable(x, dehydrateStruct);\n    } else if (x instanceof structure_1.Structure) {\n      var packableFields_1 = [];\n      for (var i = 0; i < x.fields.length; i++) {\n        packableFields_1[i] = this.packable(x.fields[i], dehydrateStruct);\n      }\n      return function () {\n        return _this.packStruct(x.signature, packableFields_1);\n      };\n    } else if (typeof x === 'object') {\n      return function () {\n        var keys = Object.keys(x);\n        var count = 0;\n        for (var i = 0; i < keys.length; i++) {\n          if (x[keys[i]] !== undefined) {\n            count++;\n          }\n        }\n        _this.packMapHeader(count);\n        for (var i = 0; i < keys.length; i++) {\n          var key = keys[i];\n          if (x[key] !== undefined) {\n            _this.packString(key);\n            _this.packable(x[key], dehydrateStruct)();\n          }\n        }\n      };\n    } else {\n      return this._nonPackableValue(\"Unable to pack the given value: \".concat(x));\n    }\n  };\n  Packer.prototype.packableIterable = function (iterable, dehydrateStruct) {\n    try {\n      var array = Array.from(iterable);\n      return this.packable(array, dehydrateStruct);\n    } catch (e) {\n      // handle errors from iterable to array conversion\n      throw (0, neo4j_driver_core_1.newError)(\"Cannot pack given iterable, \".concat(e.message, \": \").concat(iterable));\n    }\n  };\n  /**\n   * Packs a struct\n   * @param signature the signature of the struct\n   * @param packableFields the fields of the struct, make sure you call `packable on all fields`\n   */\n  Packer.prototype.packStruct = function (signature, packableFields) {\n    packableFields = packableFields || [];\n    this.packStructHeader(packableFields.length, signature);\n    for (var i = 0; i < packableFields.length; i++) {\n      packableFields[i]();\n    }\n  };\n  Packer.prototype.packInteger = function (x) {\n    var high = x.high;\n    var low = x.low;\n    if (x.greaterThanOrEqual(-0x10) && x.lessThan(0x80)) {\n      this._ch.writeInt8(low);\n    } else if (x.greaterThanOrEqual(-0x80) && x.lessThan(-0x10)) {\n      this._ch.writeUInt8(INT_8);\n      this._ch.writeInt8(low);\n    } else if (x.greaterThanOrEqual(-0x8000) && x.lessThan(0x8000)) {\n      this._ch.writeUInt8(INT_16);\n      this._ch.writeInt16(low);\n    } else if (x.greaterThanOrEqual(-0x80000000) && x.lessThan(0x80000000)) {\n      this._ch.writeUInt8(INT_32);\n      this._ch.writeInt32(low);\n    } else {\n      this._ch.writeUInt8(INT_64);\n      this._ch.writeInt32(high);\n      this._ch.writeInt32(low);\n    }\n  };\n  Packer.prototype.packFloat = function (x) {\n    this._ch.writeUInt8(FLOAT_64);\n    this._ch.writeFloat64(x);\n  };\n  Packer.prototype.packString = function (x) {\n    var bytes = channel_1.utf8.encode(x);\n    var size = bytes.length;\n    if (size < 0x10) {\n      this._ch.writeUInt8(TINY_STRING | size);\n      this._ch.writeBytes(bytes);\n    } else if (size < 0x100) {\n      this._ch.writeUInt8(STRING_8);\n      this._ch.writeUInt8(size);\n      this._ch.writeBytes(bytes);\n    } else if (size < 0x10000) {\n      this._ch.writeUInt8(STRING_16);\n      this._ch.writeUInt8(size / 256 >> 0);\n      this._ch.writeUInt8(size % 256);\n      this._ch.writeBytes(bytes);\n    } else if (size < 0x100000000) {\n      this._ch.writeUInt8(STRING_32);\n      this._ch.writeUInt8((size / 16777216 >> 0) % 256);\n      this._ch.writeUInt8((size / 65536 >> 0) % 256);\n      this._ch.writeUInt8((size / 256 >> 0) % 256);\n      this._ch.writeUInt8(size % 256);\n      this._ch.writeBytes(bytes);\n    } else {\n      throw (0, neo4j_driver_core_1.newError)('UTF-8 strings of size ' + size + ' are not supported');\n    }\n  };\n  Packer.prototype.packListHeader = function (size) {\n    if (size < 0x10) {\n      this._ch.writeUInt8(TINY_LIST | size);\n    } else if (size < 0x100) {\n      this._ch.writeUInt8(LIST_8);\n      this._ch.writeUInt8(size);\n    } else if (size < 0x10000) {\n      this._ch.writeUInt8(LIST_16);\n      this._ch.writeUInt8((size / 256 >> 0) % 256);\n      this._ch.writeUInt8(size % 256);\n    } else if (size < 0x100000000) {\n      this._ch.writeUInt8(LIST_32);\n      this._ch.writeUInt8((size / 16777216 >> 0) % 256);\n      this._ch.writeUInt8((size / 65536 >> 0) % 256);\n      this._ch.writeUInt8((size / 256 >> 0) % 256);\n      this._ch.writeUInt8(size % 256);\n    } else {\n      throw (0, neo4j_driver_core_1.newError)('Lists of size ' + size + ' are not supported');\n    }\n  };\n  Packer.prototype.packBytes = function (array) {\n    if (this._byteArraysSupported) {\n      this.packBytesHeader(array.length);\n      for (var i = 0; i < array.length; i++) {\n        this._ch.writeInt8(array[i]);\n      }\n    } else {\n      throw (0, neo4j_driver_core_1.newError)('Byte arrays are not supported by the database this driver is connected to');\n    }\n  };\n  Packer.prototype.packBytesHeader = function (size) {\n    if (size < 0x100) {\n      this._ch.writeUInt8(BYTES_8);\n      this._ch.writeUInt8(size);\n    } else if (size < 0x10000) {\n      this._ch.writeUInt8(BYTES_16);\n      this._ch.writeUInt8((size / 256 >> 0) % 256);\n      this._ch.writeUInt8(size % 256);\n    } else if (size < 0x100000000) {\n      this._ch.writeUInt8(BYTES_32);\n      this._ch.writeUInt8((size / 16777216 >> 0) % 256);\n      this._ch.writeUInt8((size / 65536 >> 0) % 256);\n      this._ch.writeUInt8((size / 256 >> 0) % 256);\n      this._ch.writeUInt8(size % 256);\n    } else {\n      throw (0, neo4j_driver_core_1.newError)('Byte arrays of size ' + size + ' are not supported');\n    }\n  };\n  Packer.prototype.packMapHeader = function (size) {\n    if (size < 0x10) {\n      this._ch.writeUInt8(TINY_MAP | size);\n    } else if (size < 0x100) {\n      this._ch.writeUInt8(MAP_8);\n      this._ch.writeUInt8(size);\n    } else if (size < 0x10000) {\n      this._ch.writeUInt8(MAP_16);\n      this._ch.writeUInt8(size / 256 >> 0);\n      this._ch.writeUInt8(size % 256);\n    } else if (size < 0x100000000) {\n      this._ch.writeUInt8(MAP_32);\n      this._ch.writeUInt8((size / 16777216 >> 0) % 256);\n      this._ch.writeUInt8((size / 65536 >> 0) % 256);\n      this._ch.writeUInt8((size / 256 >> 0) % 256);\n      this._ch.writeUInt8(size % 256);\n    } else {\n      throw (0, neo4j_driver_core_1.newError)('Maps of size ' + size + ' are not supported');\n    }\n  };\n  Packer.prototype.packStructHeader = function (size, signature) {\n    if (size < 0x10) {\n      this._ch.writeUInt8(TINY_STRUCT | size);\n      this._ch.writeUInt8(signature);\n    } else if (size < 0x100) {\n      this._ch.writeUInt8(STRUCT_8);\n      this._ch.writeUInt8(size);\n      this._ch.writeUInt8(signature);\n    } else if (size < 0x10000) {\n      this._ch.writeUInt8(STRUCT_16);\n      this._ch.writeUInt8(size / 256 >> 0);\n      this._ch.writeUInt8(size % 256);\n    } else {\n      throw (0, neo4j_driver_core_1.newError)('Structures of size ' + size + ' are not supported');\n    }\n  };\n  Packer.prototype.disableByteArrays = function () {\n    this._byteArraysSupported = false;\n  };\n  Packer.prototype._nonPackableValue = function (message) {\n    return function () {\n      throw (0, neo4j_driver_core_1.newError)(message, PROTOCOL_ERROR);\n    };\n  };\n  return Packer;\n}();\nexports.Packer = Packer;\n/**\n * Class to unpack\n * @access private\n */\nvar Unpacker = /** @class */function () {\n  /**\n   * @constructor\n   * @param {boolean} disableLosslessIntegers if this unpacker should convert all received integers to native JS numbers.\n   * @param {boolean} useBigInt if this unpacker should convert all received integers to Bigint\n   */\n  function Unpacker(disableLosslessIntegers, useBigInt) {\n    if (disableLosslessIntegers === void 0) {\n      disableLosslessIntegers = false;\n    }\n    if (useBigInt === void 0) {\n      useBigInt = false;\n    }\n    this._disableLosslessIntegers = disableLosslessIntegers;\n    this._useBigInt = useBigInt;\n  }\n  Unpacker.prototype.unpack = function (buffer, hydrateStructure) {\n    if (hydrateStructure === void 0) {\n      hydrateStructure = lang_1.functional.identity;\n    }\n    var marker = buffer.readUInt8();\n    var markerHigh = marker & 0xf0;\n    var markerLow = marker & 0x0f;\n    if (marker === NULL) {\n      return null;\n    }\n    var boolean = this._unpackBoolean(marker);\n    if (boolean !== null) {\n      return boolean;\n    }\n    var numberOrInteger = this._unpackNumberOrInteger(marker, buffer);\n    if (numberOrInteger !== null) {\n      if ((0, neo4j_driver_core_1.isInt)(numberOrInteger)) {\n        if (this._useBigInt) {\n          return numberOrInteger.toBigInt();\n        } else if (this._disableLosslessIntegers) {\n          return numberOrInteger.toNumberOrInfinity();\n        }\n      }\n      return numberOrInteger;\n    }\n    var string = this._unpackString(marker, markerHigh, markerLow, buffer);\n    if (string !== null) {\n      return string;\n    }\n    var list = this._unpackList(marker, markerHigh, markerLow, buffer, hydrateStructure);\n    if (list !== null) {\n      return list;\n    }\n    var byteArray = this._unpackByteArray(marker, buffer);\n    if (byteArray !== null) {\n      return byteArray;\n    }\n    var map = this._unpackMap(marker, markerHigh, markerLow, buffer, hydrateStructure);\n    if (map !== null) {\n      return map;\n    }\n    var struct = this._unpackStruct(marker, markerHigh, markerLow, buffer, hydrateStructure);\n    if (struct !== null) {\n      return struct;\n    }\n    throw (0, neo4j_driver_core_1.newError)('Unknown packed value with marker ' + marker.toString(16));\n  };\n  Unpacker.prototype.unpackInteger = function (buffer) {\n    var marker = buffer.readUInt8();\n    var result = this._unpackInteger(marker, buffer);\n    if (result == null) {\n      throw (0, neo4j_driver_core_1.newError)('Unable to unpack integer value with marker ' + marker.toString(16));\n    }\n    return result;\n  };\n  Unpacker.prototype._unpackBoolean = function (marker) {\n    if (marker === TRUE) {\n      return true;\n    } else if (marker === FALSE) {\n      return false;\n    } else {\n      return null;\n    }\n  };\n  Unpacker.prototype._unpackNumberOrInteger = function (marker, buffer) {\n    if (marker === FLOAT_64) {\n      return buffer.readFloat64();\n    } else {\n      return this._unpackInteger(marker, buffer);\n    }\n  };\n  Unpacker.prototype._unpackInteger = function (marker, buffer) {\n    if (marker >= 0 && marker < 128) {\n      return (0, neo4j_driver_core_1.int)(marker);\n    } else if (marker >= 240 && marker < 256) {\n      return (0, neo4j_driver_core_1.int)(marker - 256);\n    } else if (marker === INT_8) {\n      return (0, neo4j_driver_core_1.int)(buffer.readInt8());\n    } else if (marker === INT_16) {\n      return (0, neo4j_driver_core_1.int)(buffer.readInt16());\n    } else if (marker === INT_32) {\n      var b = buffer.readInt32();\n      return (0, neo4j_driver_core_1.int)(b);\n    } else if (marker === INT_64) {\n      var high = buffer.readInt32();\n      var low = buffer.readInt32();\n      return new neo4j_driver_core_1.Integer(low, high);\n    } else {\n      return null;\n    }\n  };\n  Unpacker.prototype._unpackString = function (marker, markerHigh, markerLow, buffer) {\n    if (markerHigh === TINY_STRING) {\n      return channel_1.utf8.decode(buffer, markerLow);\n    } else if (marker === STRING_8) {\n      return channel_1.utf8.decode(buffer, buffer.readUInt8());\n    } else if (marker === STRING_16) {\n      return channel_1.utf8.decode(buffer, buffer.readUInt16());\n    } else if (marker === STRING_32) {\n      return channel_1.utf8.decode(buffer, buffer.readUInt32());\n    } else {\n      return null;\n    }\n  };\n  Unpacker.prototype._unpackList = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n    if (markerHigh === TINY_LIST) {\n      return this._unpackListWithSize(markerLow, buffer, hydrateStructure);\n    } else if (marker === LIST_8) {\n      return this._unpackListWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n    } else if (marker === LIST_16) {\n      return this._unpackListWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n    } else if (marker === LIST_32) {\n      return this._unpackListWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n    } else {\n      return null;\n    }\n  };\n  Unpacker.prototype._unpackListWithSize = function (size, buffer, hydrateStructure) {\n    var value = [];\n    for (var i = 0; i < size; i++) {\n      value.push(this.unpack(buffer, hydrateStructure));\n    }\n    return value;\n  };\n  Unpacker.prototype._unpackByteArray = function (marker, buffer) {\n    if (marker === BYTES_8) {\n      return this._unpackByteArrayWithSize(buffer.readUInt8(), buffer);\n    } else if (marker === BYTES_16) {\n      return this._unpackByteArrayWithSize(buffer.readUInt16(), buffer);\n    } else if (marker === BYTES_32) {\n      return this._unpackByteArrayWithSize(buffer.readUInt32(), buffer);\n    } else {\n      return null;\n    }\n  };\n  Unpacker.prototype._unpackByteArrayWithSize = function (size, buffer) {\n    var value = new Int8Array(size);\n    for (var i = 0; i < size; i++) {\n      value[i] = buffer.readInt8();\n    }\n    return value;\n  };\n  Unpacker.prototype._unpackMap = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n    if (markerHigh === TINY_MAP) {\n      return this._unpackMapWithSize(markerLow, buffer, hydrateStructure);\n    } else if (marker === MAP_8) {\n      return this._unpackMapWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n    } else if (marker === MAP_16) {\n      return this._unpackMapWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n    } else if (marker === MAP_32) {\n      return this._unpackMapWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n    } else {\n      return null;\n    }\n  };\n  Unpacker.prototype._unpackMapWithSize = function (size, buffer, hydrateStructure) {\n    var value = {};\n    for (var i = 0; i < size; i++) {\n      var key = this.unpack(buffer, hydrateStructure);\n      value[key] = this.unpack(buffer, hydrateStructure);\n    }\n    return value;\n  };\n  Unpacker.prototype._unpackStruct = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n    if (markerHigh === TINY_STRUCT) {\n      return this._unpackStructWithSize(markerLow, buffer, hydrateStructure);\n    } else if (marker === STRUCT_8) {\n      return this._unpackStructWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n    } else if (marker === STRUCT_16) {\n      return this._unpackStructWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n    } else {\n      return null;\n    }\n  };\n  Unpacker.prototype._unpackStructWithSize = function (structSize, buffer, hydrateStructure) {\n    var signature = buffer.readUInt8();\n    var structure = new structure_1.Structure(signature, []);\n    for (var i = 0; i < structSize; i++) {\n      structure.fields.push(this.unpack(buffer, hydrateStructure));\n    }\n    return hydrateStructure(structure);\n  };\n  return Unpacker;\n}();\nexports.Unpacker = Unpacker;\nfunction isIterable(obj) {\n  if (obj == null) {\n    return false;\n  }\n  return typeof obj[Symbol.iterator] === 'function';\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","Unpacker","Packer","channel_1","require","lang_1","structure_1","neo4j_driver_core_1","PROTOCOL_ERROR","error","TINY_STRING","TINY_LIST","TINY_MAP","TINY_STRUCT","NULL","FLOAT_64","FALSE","TRUE","INT_8","INT_16","INT_32","INT_64","STRING_8","STRING_16","STRING_32","LIST_8","LIST_16","LIST_32","BYTES_8","BYTES_16","BYTES_32","MAP_8","MAP_16","MAP_32","STRUCT_8","STRUCT_16","channel","_ch","_byteArraysSupported","prototype","packable","x","dehydrateStruct","_this","functional","identity","ex","writeUInt8","packFloat","packString","packInteger","int","isInt","Int8Array","packBytes","Array","packListHeader","length","i","undefined","isIterable","packableIterable","Structure","packableFields_1","fields","packStruct","signature","keys","count","packMapHeader","key","_nonPackableValue","concat","iterable","array","from","e","newError","message","packableFields","packStructHeader","high","low","greaterThanOrEqual","lessThan","writeInt8","writeInt16","writeInt32","writeFloat64","bytes","utf8","encode","size","writeBytes","packBytesHeader","disableByteArrays","disableLosslessIntegers","useBigInt","_disableLosslessIntegers","_useBigInt","unpack","buffer","hydrateStructure","marker","readUInt8","markerHigh","markerLow","boolean","_unpackBoolean","numberOrInteger","_unpackNumberOrInteger","toBigInt","toNumberOrInfinity","string","_unpackString","list","_unpackList","byteArray","_unpackByteArray","map","_unpackMap","struct","_unpackStruct","toString","unpackInteger","result","_unpackInteger","readFloat64","readInt8","readInt16","b","readInt32","Integer","decode","readUInt16","readUInt32","_unpackListWithSize","push","_unpackByteArrayWithSize","_unpackMapWithSize","_unpackStructWithSize","structSize","structure","obj","Symbol","iterator"],"sources":["D:/Study/Projects/El-Kasr Family Tree/client/node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Unpacker = exports.Packer = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar channel_1 = require(\"../channel\");\nvar lang_1 = require(\"../lang\");\nvar structure_1 = require(\"./structure\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar TINY_STRING = 0x80;\nvar TINY_LIST = 0x90;\nvar TINY_MAP = 0xa0;\nvar TINY_STRUCT = 0xb0;\nvar NULL = 0xc0;\nvar FLOAT_64 = 0xc1;\nvar FALSE = 0xc2;\nvar TRUE = 0xc3;\nvar INT_8 = 0xc8;\nvar INT_16 = 0xc9;\nvar INT_32 = 0xca;\nvar INT_64 = 0xcb;\nvar STRING_8 = 0xd0;\nvar STRING_16 = 0xd1;\nvar STRING_32 = 0xd2;\nvar LIST_8 = 0xd4;\nvar LIST_16 = 0xd5;\nvar LIST_32 = 0xd6;\nvar BYTES_8 = 0xcc;\nvar BYTES_16 = 0xcd;\nvar BYTES_32 = 0xce;\nvar MAP_8 = 0xd8;\nvar MAP_16 = 0xd9;\nvar MAP_32 = 0xda;\nvar STRUCT_8 = 0xdc;\nvar STRUCT_16 = 0xdd;\n/**\n * Class to pack\n * @access private\n */\nvar Packer = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {Chunker} channel the chunker backed by a network channel.\n     */\n    function Packer(channel) {\n        this._ch = channel;\n        this._byteArraysSupported = true;\n    }\n    /**\n     * Creates a packable function out of the provided value\n     * @param x the value to pack\n     * @returns Function\n     */\n    Packer.prototype.packable = function (x, dehydrateStruct) {\n        var _this = this;\n        if (dehydrateStruct === void 0) { dehydrateStruct = lang_1.functional.identity; }\n        try {\n            x = dehydrateStruct(x);\n        }\n        catch (ex) {\n            return function () { throw ex; };\n        }\n        if (x === null) {\n            return function () { return _this._ch.writeUInt8(NULL); };\n        }\n        else if (x === true) {\n            return function () { return _this._ch.writeUInt8(TRUE); };\n        }\n        else if (x === false) {\n            return function () { return _this._ch.writeUInt8(FALSE); };\n        }\n        else if (typeof x === 'number') {\n            return function () { return _this.packFloat(x); };\n        }\n        else if (typeof x === 'string') {\n            return function () { return _this.packString(x); };\n        }\n        else if (typeof x === 'bigint') {\n            return function () { return _this.packInteger((0, neo4j_driver_core_1.int)(x)); };\n        }\n        else if ((0, neo4j_driver_core_1.isInt)(x)) {\n            return function () { return _this.packInteger(x); };\n        }\n        else if (x instanceof Int8Array) {\n            return function () { return _this.packBytes(x); };\n        }\n        else if (x instanceof Array) {\n            return function () {\n                _this.packListHeader(x.length);\n                for (var i = 0; i < x.length; i++) {\n                    _this.packable(x[i] === undefined ? null : x[i], dehydrateStruct)();\n                }\n            };\n        }\n        else if (isIterable(x)) {\n            return this.packableIterable(x, dehydrateStruct);\n        }\n        else if (x instanceof structure_1.Structure) {\n            var packableFields_1 = [];\n            for (var i = 0; i < x.fields.length; i++) {\n                packableFields_1[i] = this.packable(x.fields[i], dehydrateStruct);\n            }\n            return function () { return _this.packStruct(x.signature, packableFields_1); };\n        }\n        else if (typeof x === 'object') {\n            return function () {\n                var keys = Object.keys(x);\n                var count = 0;\n                for (var i = 0; i < keys.length; i++) {\n                    if (x[keys[i]] !== undefined) {\n                        count++;\n                    }\n                }\n                _this.packMapHeader(count);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = keys[i];\n                    if (x[key] !== undefined) {\n                        _this.packString(key);\n                        _this.packable(x[key], dehydrateStruct)();\n                    }\n                }\n            };\n        }\n        else {\n            return this._nonPackableValue(\"Unable to pack the given value: \".concat(x));\n        }\n    };\n    Packer.prototype.packableIterable = function (iterable, dehydrateStruct) {\n        try {\n            var array = Array.from(iterable);\n            return this.packable(array, dehydrateStruct);\n        }\n        catch (e) {\n            // handle errors from iterable to array conversion\n            throw (0, neo4j_driver_core_1.newError)(\"Cannot pack given iterable, \".concat(e.message, \": \").concat(iterable));\n        }\n    };\n    /**\n     * Packs a struct\n     * @param signature the signature of the struct\n     * @param packableFields the fields of the struct, make sure you call `packable on all fields`\n     */\n    Packer.prototype.packStruct = function (signature, packableFields) {\n        packableFields = packableFields || [];\n        this.packStructHeader(packableFields.length, signature);\n        for (var i = 0; i < packableFields.length; i++) {\n            packableFields[i]();\n        }\n    };\n    Packer.prototype.packInteger = function (x) {\n        var high = x.high;\n        var low = x.low;\n        if (x.greaterThanOrEqual(-0x10) && x.lessThan(0x80)) {\n            this._ch.writeInt8(low);\n        }\n        else if (x.greaterThanOrEqual(-0x80) && x.lessThan(-0x10)) {\n            this._ch.writeUInt8(INT_8);\n            this._ch.writeInt8(low);\n        }\n        else if (x.greaterThanOrEqual(-0x8000) && x.lessThan(0x8000)) {\n            this._ch.writeUInt8(INT_16);\n            this._ch.writeInt16(low);\n        }\n        else if (x.greaterThanOrEqual(-0x80000000) && x.lessThan(0x80000000)) {\n            this._ch.writeUInt8(INT_32);\n            this._ch.writeInt32(low);\n        }\n        else {\n            this._ch.writeUInt8(INT_64);\n            this._ch.writeInt32(high);\n            this._ch.writeInt32(low);\n        }\n    };\n    Packer.prototype.packFloat = function (x) {\n        this._ch.writeUInt8(FLOAT_64);\n        this._ch.writeFloat64(x);\n    };\n    Packer.prototype.packString = function (x) {\n        var bytes = channel_1.utf8.encode(x);\n        var size = bytes.length;\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_STRING | size);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(STRING_8);\n            this._ch.writeUInt8(size);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(STRING_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(STRING_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n            this._ch.writeBytes(bytes);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('UTF-8 strings of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packListHeader = function (size) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_LIST | size);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(LIST_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(LIST_16);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(LIST_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Lists of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packBytes = function (array) {\n        if (this._byteArraysSupported) {\n            this.packBytesHeader(array.length);\n            for (var i = 0; i < array.length; i++) {\n                this._ch.writeInt8(array[i]);\n            }\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Byte arrays are not supported by the database this driver is connected to');\n        }\n    };\n    Packer.prototype.packBytesHeader = function (size) {\n        if (size < 0x100) {\n            this._ch.writeUInt8(BYTES_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(BYTES_16);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(BYTES_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Byte arrays of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packMapHeader = function (size) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_MAP | size);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(MAP_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(MAP_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(MAP_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Maps of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packStructHeader = function (size, signature) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_STRUCT | size);\n            this._ch.writeUInt8(signature);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(STRUCT_8);\n            this._ch.writeUInt8(size);\n            this._ch.writeUInt8(signature);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(STRUCT_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Structures of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.disableByteArrays = function () {\n        this._byteArraysSupported = false;\n    };\n    Packer.prototype._nonPackableValue = function (message) {\n        return function () {\n            throw (0, neo4j_driver_core_1.newError)(message, PROTOCOL_ERROR);\n        };\n    };\n    return Packer;\n}());\nexports.Packer = Packer;\n/**\n * Class to unpack\n * @access private\n */\nvar Unpacker = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {boolean} disableLosslessIntegers if this unpacker should convert all received integers to native JS numbers.\n     * @param {boolean} useBigInt if this unpacker should convert all received integers to Bigint\n     */\n    function Unpacker(disableLosslessIntegers, useBigInt) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (useBigInt === void 0) { useBigInt = false; }\n        this._disableLosslessIntegers = disableLosslessIntegers;\n        this._useBigInt = useBigInt;\n    }\n    Unpacker.prototype.unpack = function (buffer, hydrateStructure) {\n        if (hydrateStructure === void 0) { hydrateStructure = lang_1.functional.identity; }\n        var marker = buffer.readUInt8();\n        var markerHigh = marker & 0xf0;\n        var markerLow = marker & 0x0f;\n        if (marker === NULL) {\n            return null;\n        }\n        var boolean = this._unpackBoolean(marker);\n        if (boolean !== null) {\n            return boolean;\n        }\n        var numberOrInteger = this._unpackNumberOrInteger(marker, buffer);\n        if (numberOrInteger !== null) {\n            if ((0, neo4j_driver_core_1.isInt)(numberOrInteger)) {\n                if (this._useBigInt) {\n                    return numberOrInteger.toBigInt();\n                }\n                else if (this._disableLosslessIntegers) {\n                    return numberOrInteger.toNumberOrInfinity();\n                }\n            }\n            return numberOrInteger;\n        }\n        var string = this._unpackString(marker, markerHigh, markerLow, buffer);\n        if (string !== null) {\n            return string;\n        }\n        var list = this._unpackList(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (list !== null) {\n            return list;\n        }\n        var byteArray = this._unpackByteArray(marker, buffer);\n        if (byteArray !== null) {\n            return byteArray;\n        }\n        var map = this._unpackMap(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (map !== null) {\n            return map;\n        }\n        var struct = this._unpackStruct(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (struct !== null) {\n            return struct;\n        }\n        throw (0, neo4j_driver_core_1.newError)('Unknown packed value with marker ' + marker.toString(16));\n    };\n    Unpacker.prototype.unpackInteger = function (buffer) {\n        var marker = buffer.readUInt8();\n        var result = this._unpackInteger(marker, buffer);\n        if (result == null) {\n            throw (0, neo4j_driver_core_1.newError)('Unable to unpack integer value with marker ' + marker.toString(16));\n        }\n        return result;\n    };\n    Unpacker.prototype._unpackBoolean = function (marker) {\n        if (marker === TRUE) {\n            return true;\n        }\n        else if (marker === FALSE) {\n            return false;\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackNumberOrInteger = function (marker, buffer) {\n        if (marker === FLOAT_64) {\n            return buffer.readFloat64();\n        }\n        else {\n            return this._unpackInteger(marker, buffer);\n        }\n    };\n    Unpacker.prototype._unpackInteger = function (marker, buffer) {\n        if (marker >= 0 && marker < 128) {\n            return (0, neo4j_driver_core_1.int)(marker);\n        }\n        else if (marker >= 240 && marker < 256) {\n            return (0, neo4j_driver_core_1.int)(marker - 256);\n        }\n        else if (marker === INT_8) {\n            return (0, neo4j_driver_core_1.int)(buffer.readInt8());\n        }\n        else if (marker === INT_16) {\n            return (0, neo4j_driver_core_1.int)(buffer.readInt16());\n        }\n        else if (marker === INT_32) {\n            var b = buffer.readInt32();\n            return (0, neo4j_driver_core_1.int)(b);\n        }\n        else if (marker === INT_64) {\n            var high = buffer.readInt32();\n            var low = buffer.readInt32();\n            return new neo4j_driver_core_1.Integer(low, high);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackString = function (marker, markerHigh, markerLow, buffer) {\n        if (markerHigh === TINY_STRING) {\n            return channel_1.utf8.decode(buffer, markerLow);\n        }\n        else if (marker === STRING_8) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt8());\n        }\n        else if (marker === STRING_16) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt16());\n        }\n        else if (marker === STRING_32) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt32());\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackList = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_LIST) {\n            return this._unpackListWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === LIST_8) {\n            return this._unpackListWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === LIST_16) {\n            return this._unpackListWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else if (marker === LIST_32) {\n            return this._unpackListWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackListWithSize = function (size, buffer, hydrateStructure) {\n        var value = [];\n        for (var i = 0; i < size; i++) {\n            value.push(this.unpack(buffer, hydrateStructure));\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackByteArray = function (marker, buffer) {\n        if (marker === BYTES_8) {\n            return this._unpackByteArrayWithSize(buffer.readUInt8(), buffer);\n        }\n        else if (marker === BYTES_16) {\n            return this._unpackByteArrayWithSize(buffer.readUInt16(), buffer);\n        }\n        else if (marker === BYTES_32) {\n            return this._unpackByteArrayWithSize(buffer.readUInt32(), buffer);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackByteArrayWithSize = function (size, buffer) {\n        var value = new Int8Array(size);\n        for (var i = 0; i < size; i++) {\n            value[i] = buffer.readInt8();\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackMap = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_MAP) {\n            return this._unpackMapWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === MAP_8) {\n            return this._unpackMapWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === MAP_16) {\n            return this._unpackMapWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else if (marker === MAP_32) {\n            return this._unpackMapWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackMapWithSize = function (size, buffer, hydrateStructure) {\n        var value = {};\n        for (var i = 0; i < size; i++) {\n            var key = this.unpack(buffer, hydrateStructure);\n            value[key] = this.unpack(buffer, hydrateStructure);\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackStruct = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_STRUCT) {\n            return this._unpackStructWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === STRUCT_8) {\n            return this._unpackStructWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === STRUCT_16) {\n            return this._unpackStructWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackStructWithSize = function (structSize, buffer, hydrateStructure) {\n        var signature = buffer.readUInt8();\n        var structure = new structure_1.Structure(signature, []);\n        for (var i = 0; i < structSize; i++) {\n            structure.fields.push(this.unpack(buffer, hydrateStructure));\n        }\n        return hydrateStructure(structure);\n    };\n    return Unpacker;\n}());\nexports.Unpacker = Unpacker;\nfunction isIterable(obj) {\n    if (obj == null) {\n        return false;\n    }\n    return typeof obj[Symbol.iterator] === 'function';\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}