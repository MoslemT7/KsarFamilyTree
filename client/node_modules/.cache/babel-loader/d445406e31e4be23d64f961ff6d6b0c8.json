{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reuseOngoingRequest = exports.identity = void 0;\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\n/**\n * Identity function.\n *\n * Identity functions are function which returns the input as output.\n *\n * @param {any} x\n * @returns {any} the x\n */\nfunction identity(x) {\n  return x;\n}\nexports.identity = identity;\n/**\n * Makes the function able to share ongoing requests\n *\n * @param {function(...args): Promise} func The function to be decorated\n * @param {any} thisArg The `this` which should be used in the function call\n * @return {function(...args): Promise} The decorated function\n */\nfunction reuseOngoingRequest(func, thisArg) {\n  if (thisArg === void 0) {\n    thisArg = null;\n  }\n  var ongoingRequests = new Map();\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    var key = neo4j_driver_core_1.json.stringify(args);\n    if (ongoingRequests.has(key)) {\n      return ongoingRequests.get(key);\n    }\n    var promise = func.apply(thisArg, args);\n    ongoingRequests.set(key, promise);\n    return promise.finally(function () {\n      ongoingRequests.delete(key);\n    });\n  };\n}\nexports.reuseOngoingRequest = reuseOngoingRequest;","map":{"version":3,"names":["Object","defineProperty","exports","value","reuseOngoingRequest","identity","neo4j_driver_core_1","require","x","func","thisArg","ongoingRequests","Map","args","_i","arguments","length","key","json","stringify","has","get","promise","apply","set","finally","delete"],"sources":["D:/Study/Projects/El-Kasr Family Tree/client/node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js"],"sourcesContent":["\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reuseOngoingRequest = exports.identity = void 0;\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\n/**\n * Identity function.\n *\n * Identity functions are function which returns the input as output.\n *\n * @param {any} x\n * @returns {any} the x\n */\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n/**\n * Makes the function able to share ongoing requests\n *\n * @param {function(...args): Promise} func The function to be decorated\n * @param {any} thisArg The `this` which should be used in the function call\n * @return {function(...args): Promise} The decorated function\n */\nfunction reuseOngoingRequest(func, thisArg) {\n    if (thisArg === void 0) { thisArg = null; }\n    var ongoingRequests = new Map();\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = neo4j_driver_core_1.json.stringify(args);\n        if (ongoingRequests.has(key)) {\n            return ongoingRequests.get(key);\n        }\n        var promise = func.apply(thisArg, args);\n        ongoingRequests.set(key, promise);\n        return promise.finally(function () {\n            ongoingRequests.delete(key);\n        });\n    };\n}\nexports.reuseOngoingRequest = reuseOngoingRequest;\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,mBAAmB,GAAGF,OAAO,CAACG,QAAQ,GAAG,KAAK,CAAC;AACvD,IAAIC,mBAAmB,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASF,QAAQA,CAACG,CAAC,EAAE;EACjB,OAAOA,CAAC;AACZ;AACAN,OAAO,CAACG,QAAQ,GAAGA,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASD,mBAAmBA,CAACK,IAAI,EAAEC,OAAO,EAAE;EACxC,IAAIA,OAAO,KAAK,KAAK,CAAC,EAAE;IAAEA,OAAO,GAAG,IAAI;EAAE;EAC1C,IAAIC,eAAe,GAAG,IAAIC,GAAG,CAAC,CAAC;EAC/B,OAAO,YAAY;IACf,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;MAC1CD,IAAI,CAACC,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;IAC5B;IACA,IAAIG,GAAG,GAAGX,mBAAmB,CAACY,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC;IAClD,IAAIF,eAAe,CAACS,GAAG,CAACH,GAAG,CAAC,EAAE;MAC1B,OAAON,eAAe,CAACU,GAAG,CAACJ,GAAG,CAAC;IACnC;IACA,IAAIK,OAAO,GAAGb,IAAI,CAACc,KAAK,CAACb,OAAO,EAAEG,IAAI,CAAC;IACvCF,eAAe,CAACa,GAAG,CAACP,GAAG,EAAEK,OAAO,CAAC;IACjC,OAAOA,OAAO,CAACG,OAAO,CAAC,YAAY;MAC/Bd,eAAe,CAACe,MAAM,CAACT,GAAG,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC;AACL;AACAf,OAAO,CAACE,mBAAmB,GAAGA,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"script"}