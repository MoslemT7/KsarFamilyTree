{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable-next-line no-unused-vars */\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar rxjs_1 = require(\"rxjs\");\nvar operators_1 = require(\"rxjs/operators\");\nvar States = {\n  READY: 0,\n  STREAMING: 1,\n  COMPLETED: 2\n};\n/**\n * The reactive result interface.\n */\nvar RxResult = /** @class */function () {\n  /**\n   * @constructor\n   * @protected\n   * @param {Observable<Result>} result - An observable of single Result instance to relay requests.\n   * @param {number} state - The streaming state\n   */\n  function RxResult(result, state) {\n    var replayedResult = result.pipe((0, operators_1.publishReplay)(1), (0, operators_1.refCount)());\n    this._result = replayedResult;\n    this._keys = replayedResult.pipe((0, operators_1.mergeMap)(function (r) {\n      return (0, rxjs_1.from)(r.keys());\n    }), (0, operators_1.publishReplay)(1), (0, operators_1.refCount)());\n    this._records = undefined;\n    this._controls = new StreamControl();\n    this._summary = new rxjs_1.ReplaySubject();\n    this._state = state || States.READY;\n  }\n  /**\n   * Returns an observable that exposes a single item containing field names\n   * returned by the executing query.\n   *\n   * Errors raised by actual query execution can surface on the returned\n   * observable stream.\n   *\n   * @public\n   * @returns {Observable<string[]>} - An observable stream (with exactly one element) of field names.\n   */\n  RxResult.prototype.keys = function () {\n    return this._keys;\n  };\n  /**\n   * Returns an observable that exposes each record returned by the executing query.\n   *\n   * Errors raised during the streaming phase can surface on the returned observable stream.\n   *\n   * @public\n   * @returns {Observable<Record>} - An observable stream of records.\n   */\n  RxResult.prototype.records = function () {\n    var _this = this;\n    var result = this._result.pipe((0, operators_1.mergeMap)(function (result) {\n      return new rxjs_1.Observable(function (recordsObserver) {\n        return _this._startStreaming({\n          result: result,\n          recordsObserver: recordsObserver\n        });\n      });\n    }));\n    result.push = function () {\n      return _this._push();\n    };\n    return result;\n  };\n  /**\n   * Returns an observable that exposes a single item of {@link ResultSummary} that is generated by\n   * the server after the streaming of the executing query is completed.\n   *\n   * *Subscribing to this stream before subscribing to records() stream causes the results to be discarded on the server.*\n   *\n   * @public\n   * @returns {Observable<ResultSummary>} - An observable stream (with exactly one element) of result summary.\n   */\n  RxResult.prototype.consume = function () {\n    var _this = this;\n    return this._result.pipe((0, operators_1.mergeMap)(function (result) {\n      return new rxjs_1.Observable(function (summaryObserver) {\n        return _this._startStreaming({\n          result: result,\n          summaryObserver: summaryObserver\n        });\n      });\n    }));\n  };\n  /**\n   * Pauses the automatic streaming of records.\n   *\n   * This method provides a way of control the flow of records\n   *\n   * @experimental\n   */\n  RxResult.prototype.pause = function () {\n    this._controls.pause();\n  };\n  /**\n   * Resumes the automatic streaming of records.\n   *\n   * This method won't need to be called in normal stream operation. It only applies to the case when the stream is paused.\n   *\n   * This method is method won't start the consuming records if the {@link records} stream didn't get subscribed.\n   * @experimental\n   * @returns {Promise<void>} - A promise that resolves when the stream is resumed.\n   */\n  RxResult.prototype.resume = function () {\n    return this._controls.resume();\n  };\n  /**\n   * Pushes the next record to the stream.\n   *\n   * This method automatic pause the auto-streaming of records and then push next record to the stream.\n   *\n   * For returning the automatic streaming of records, use {@link resume} method.\n   *\n   * @experimental\n   * @returns {Promise<void>} - A promise that resolves when the push is completed.\n   */\n  RxResult.prototype.push = function () {\n    return this._controls.push();\n  };\n  RxResult.prototype._startStreaming = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n      result = _b.result,\n      _c = _b.recordsObserver,\n      recordsObserver = _c === void 0 ? null : _c,\n      _d = _b.summaryObserver,\n      summaryObserver = _d === void 0 ? null : _d;\n    var subscriptions = [];\n    if (summaryObserver) {\n      subscriptions.push(this._summary.subscribe(summaryObserver));\n    }\n    if (this._state < States.STREAMING) {\n      this._state = States.STREAMING;\n      this._setupRecordsStream(result);\n      if (recordsObserver) {\n        subscriptions.push(this._records.subscribe(recordsObserver));\n      } else {\n        result._cancel();\n      }\n      subscriptions.push({\n        unsubscribe: function () {\n          if (result._cancel) {\n            result._cancel();\n          }\n        }\n      });\n    } else if (recordsObserver) {\n      recordsObserver.error((0, neo4j_driver_core_1.newError)('Streaming has already started/consumed with a previous records or summary subscription.'));\n    }\n    return function () {\n      subscriptions.forEach(function (s) {\n        return s.unsubscribe();\n      });\n    };\n  };\n  /**\n   * Create a {@link Observable} for the current {@link RxResult}\n   *\n   *\n   * @package\n   * @experimental\n   * @since 5.0\n   * @return {Observable<RxResult>}\n   */\n  RxResult.prototype._toObservable = function () {\n    var _this = this;\n    function wrap(result) {\n      return new rxjs_1.Observable(function (observer) {\n        observer.next(result);\n        observer.complete();\n      });\n    }\n    return new rxjs_1.Observable(function (observer) {\n      _this._result.subscribe({\n        complete: function () {\n          return observer.complete();\n        },\n        next: function (result) {\n          return observer.next(new RxResult(wrap(result)), _this._state);\n        },\n        error: function (e) {\n          return observer.error(e);\n        }\n      });\n    });\n  };\n  RxResult.prototype._setupRecordsStream = function (result) {\n    var _this = this;\n    if (this._records) {\n      return this._records;\n    }\n    this._records = createFullyControlledSubject(result[Symbol.asyncIterator](), {\n      complete: function () {\n        return __awaiter(_this, void 0, void 0, function () {\n          var _a, _b;\n          return __generator(this, function (_c) {\n            switch (_c.label) {\n              case 0:\n                this._state = States.COMPLETED;\n                _b = (_a = this._summary).next;\n                return [4 /*yield*/, result.summary()];\n              case 1:\n                _b.apply(_a, [_c.sent()]);\n                this._summary.complete();\n                return [2 /*return*/];\n            }\n          });\n        });\n      },\n      error: function (error) {\n        _this._state = States.COMPLETED;\n        _this._summary.error(error);\n      }\n    }, this._controls);\n    return this._records;\n  };\n  return RxResult;\n}();\nexports.default = RxResult;\nfunction createFullyControlledSubject(iterator, completeObserver, streamControl) {\n  var _this = this;\n  if (streamControl === void 0) {\n    streamControl = new StreamControl();\n  }\n  var subject = new rxjs_1.Subject();\n  var pushNextValue = function (result) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var _a, done, value, error_1;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _b.trys.push([0, 2, 3, 4]);\n            streamControl.pushing = true;\n            return [4 /*yield*/, result];\n          case 1:\n            _a = _b.sent(), done = _a.done, value = _a.value;\n            if (done) {\n              subject.complete();\n              completeObserver.complete();\n            } else {\n              subject.next(value);\n              if (!streamControl.paused) {\n                pushNextValue(iterator.next()).catch(function () {});\n              }\n            }\n            return [3 /*break*/, 4];\n          case 2:\n            error_1 = _b.sent();\n            subject.error(error_1);\n            completeObserver.error(error_1);\n            return [3 /*break*/, 4];\n          case 3:\n            streamControl.pushing = false;\n            return [7 /*endfinally*/];\n          case 4:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n  function push(value) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, pushNextValue(iterator.next(value))];\n          case 1:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  }\n  streamControl.pusher = push;\n  push();\n  return subject;\n}\nvar StreamControl = /** @class */function () {\n  function StreamControl(push) {\n    if (push === void 0) {\n      push = function () {\n        return __awaiter(_this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n            return [2 /*return*/];\n          });\n        });\n      };\n    }\n    var _this = this;\n    this._paused = false;\n    this._pushing = false;\n    this._push = push;\n  }\n  StreamControl.prototype.pause = function () {\n    this._paused = true;\n  };\n  Object.defineProperty(StreamControl.prototype, \"paused\", {\n    get: function () {\n      return this._paused;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StreamControl.prototype, \"pushing\", {\n    get: function () {\n      return this._pushing;\n    },\n    set: function (pushing) {\n      this._pushing = pushing;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  StreamControl.prototype.resume = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var wasPaused;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            wasPaused = this._paused;\n            this._paused = false;\n            if (!(wasPaused && !this._pushing)) return [3 /*break*/, 2];\n            return [4 /*yield*/, this._push()];\n          case 1:\n            _a.sent();\n            _a.label = 2;\n          case 2:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n  StreamControl.prototype.push = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.pause();\n            return [4 /*yield*/, this._push()];\n          case 1:\n            return [2 /*return*/, _a.sent()];\n        }\n      });\n    });\n  };\n  Object.defineProperty(StreamControl.prototype, \"pusher\", {\n    get: function () {\n      return this._push;\n    },\n    set: function (push) {\n      this._push = push;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return StreamControl;\n}();","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","neo4j_driver_core_1","require","rxjs_1","operators_1","States","READY","STREAMING","COMPLETED","RxResult","state","replayedResult","pipe","publishReplay","refCount","_result","_keys","mergeMap","r","from","keys","_records","undefined","_controls","StreamControl","_summary","ReplaySubject","_state","prototype","records","_this","Observable","recordsObserver","_startStreaming","_push","consume","summaryObserver","pause","resume","_a","_b","_c","_d","subscriptions","subscribe","_setupRecordsStream","_cancel","unsubscribe","error","newError","forEach","s","_toObservable","wrap","observer","complete","createFullyControlledSubject","asyncIterator","summary","default","completeObserver","streamControl","subject","Subject","pushNextValue","error_1","pushing","paused","catch","pusher","_paused","_pushing","get","enumerable","configurable","set","wasPaused"],"sources":["D:/Study/Projects/Copy 4/client/node_modules/neo4j-driver/lib/result-rx.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable-next-line no-unused-vars */\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar rxjs_1 = require(\"rxjs\");\nvar operators_1 = require(\"rxjs/operators\");\nvar States = {\n    READY: 0,\n    STREAMING: 1,\n    COMPLETED: 2\n};\n/**\n * The reactive result interface.\n */\nvar RxResult = /** @class */ (function () {\n    /**\n     * @constructor\n     * @protected\n     * @param {Observable<Result>} result - An observable of single Result instance to relay requests.\n     * @param {number} state - The streaming state\n     */\n    function RxResult(result, state) {\n        var replayedResult = result.pipe((0, operators_1.publishReplay)(1), (0, operators_1.refCount)());\n        this._result = replayedResult;\n        this._keys = replayedResult.pipe((0, operators_1.mergeMap)(function (r) { return (0, rxjs_1.from)(r.keys()); }), (0, operators_1.publishReplay)(1), (0, operators_1.refCount)());\n        this._records = undefined;\n        this._controls = new StreamControl();\n        this._summary = new rxjs_1.ReplaySubject();\n        this._state = state || States.READY;\n    }\n    /**\n     * Returns an observable that exposes a single item containing field names\n     * returned by the executing query.\n     *\n     * Errors raised by actual query execution can surface on the returned\n     * observable stream.\n     *\n     * @public\n     * @returns {Observable<string[]>} - An observable stream (with exactly one element) of field names.\n     */\n    RxResult.prototype.keys = function () {\n        return this._keys;\n    };\n    /**\n     * Returns an observable that exposes each record returned by the executing query.\n     *\n     * Errors raised during the streaming phase can surface on the returned observable stream.\n     *\n     * @public\n     * @returns {Observable<Record>} - An observable stream of records.\n     */\n    RxResult.prototype.records = function () {\n        var _this = this;\n        var result = this._result.pipe((0, operators_1.mergeMap)(function (result) {\n            return new rxjs_1.Observable(function (recordsObserver) {\n                return _this._startStreaming({ result: result, recordsObserver: recordsObserver });\n            });\n        }));\n        result.push = function () { return _this._push(); };\n        return result;\n    };\n    /**\n     * Returns an observable that exposes a single item of {@link ResultSummary} that is generated by\n     * the server after the streaming of the executing query is completed.\n     *\n     * *Subscribing to this stream before subscribing to records() stream causes the results to be discarded on the server.*\n     *\n     * @public\n     * @returns {Observable<ResultSummary>} - An observable stream (with exactly one element) of result summary.\n     */\n    RxResult.prototype.consume = function () {\n        var _this = this;\n        return this._result.pipe((0, operators_1.mergeMap)(function (result) {\n            return new rxjs_1.Observable(function (summaryObserver) {\n                return _this._startStreaming({ result: result, summaryObserver: summaryObserver });\n            });\n        }));\n    };\n    /**\n     * Pauses the automatic streaming of records.\n     *\n     * This method provides a way of control the flow of records\n     *\n     * @experimental\n     */\n    RxResult.prototype.pause = function () {\n        this._controls.pause();\n    };\n    /**\n     * Resumes the automatic streaming of records.\n     *\n     * This method won't need to be called in normal stream operation. It only applies to the case when the stream is paused.\n     *\n     * This method is method won't start the consuming records if the {@link records} stream didn't get subscribed.\n     * @experimental\n     * @returns {Promise<void>} - A promise that resolves when the stream is resumed.\n     */\n    RxResult.prototype.resume = function () {\n        return this._controls.resume();\n    };\n    /**\n     * Pushes the next record to the stream.\n     *\n     * This method automatic pause the auto-streaming of records and then push next record to the stream.\n     *\n     * For returning the automatic streaming of records, use {@link resume} method.\n     *\n     * @experimental\n     * @returns {Promise<void>} - A promise that resolves when the push is completed.\n     */\n    RxResult.prototype.push = function () {\n        return this._controls.push();\n    };\n    RxResult.prototype._startStreaming = function (_a) {\n        var _b = _a === void 0 ? {} : _a, result = _b.result, _c = _b.recordsObserver, recordsObserver = _c === void 0 ? null : _c, _d = _b.summaryObserver, summaryObserver = _d === void 0 ? null : _d;\n        var subscriptions = [];\n        if (summaryObserver) {\n            subscriptions.push(this._summary.subscribe(summaryObserver));\n        }\n        if (this._state < States.STREAMING) {\n            this._state = States.STREAMING;\n            this._setupRecordsStream(result);\n            if (recordsObserver) {\n                subscriptions.push(this._records.subscribe(recordsObserver));\n            }\n            else {\n                result._cancel();\n            }\n            subscriptions.push({\n                unsubscribe: function () {\n                    if (result._cancel) {\n                        result._cancel();\n                    }\n                }\n            });\n        }\n        else if (recordsObserver) {\n            recordsObserver.error((0, neo4j_driver_core_1.newError)('Streaming has already started/consumed with a previous records or summary subscription.'));\n        }\n        return function () {\n            subscriptions.forEach(function (s) { return s.unsubscribe(); });\n        };\n    };\n    /**\n     * Create a {@link Observable} for the current {@link RxResult}\n     *\n     *\n     * @package\n     * @experimental\n     * @since 5.0\n     * @return {Observable<RxResult>}\n     */\n    RxResult.prototype._toObservable = function () {\n        var _this = this;\n        function wrap(result) {\n            return new rxjs_1.Observable(function (observer) {\n                observer.next(result);\n                observer.complete();\n            });\n        }\n        return new rxjs_1.Observable(function (observer) {\n            _this._result.subscribe({\n                complete: function () { return observer.complete(); },\n                next: function (result) { return observer.next(new RxResult(wrap(result)), _this._state); },\n                error: function (e) { return observer.error(e); }\n            });\n        });\n    };\n    RxResult.prototype._setupRecordsStream = function (result) {\n        var _this = this;\n        if (this._records) {\n            return this._records;\n        }\n        this._records = createFullyControlledSubject(result[Symbol.asyncIterator](), {\n            complete: function () { return __awaiter(_this, void 0, void 0, function () {\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            this._state = States.COMPLETED;\n                            _b = (_a = this._summary).next;\n                            return [4 /*yield*/, result.summary()];\n                        case 1:\n                            _b.apply(_a, [_c.sent()]);\n                            this._summary.complete();\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            error: function (error) {\n                _this._state = States.COMPLETED;\n                _this._summary.error(error);\n            }\n        }, this._controls);\n        return this._records;\n    };\n    return RxResult;\n}());\nexports.default = RxResult;\nfunction createFullyControlledSubject(iterator, completeObserver, streamControl) {\n    var _this = this;\n    if (streamControl === void 0) { streamControl = new StreamControl(); }\n    var subject = new rxjs_1.Subject();\n    var pushNextValue = function (result) { return __awaiter(_this, void 0, void 0, function () {\n        var _a, done, value, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, 3, 4]);\n                    streamControl.pushing = true;\n                    return [4 /*yield*/, result];\n                case 1:\n                    _a = _b.sent(), done = _a.done, value = _a.value;\n                    if (done) {\n                        subject.complete();\n                        completeObserver.complete();\n                    }\n                    else {\n                        subject.next(value);\n                        if (!streamControl.paused) {\n                            pushNextValue(iterator.next())\n                                .catch(function () { });\n                        }\n                    }\n                    return [3 /*break*/, 4];\n                case 2:\n                    error_1 = _b.sent();\n                    subject.error(error_1);\n                    completeObserver.error(error_1);\n                    return [3 /*break*/, 4];\n                case 3:\n                    streamControl.pushing = false;\n                    return [7 /*endfinally*/];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    function push(value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, pushNextValue(iterator.next(value))];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }\n    streamControl.pusher = push;\n    push();\n    return subject;\n}\nvar StreamControl = /** @class */ (function () {\n    function StreamControl(push) {\n        if (push === void 0) { push = function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2 /*return*/];\n        }); }); }; }\n        var _this = this;\n        this._paused = false;\n        this._pushing = false;\n        this._push = push;\n    }\n    StreamControl.prototype.pause = function () {\n        this._paused = true;\n    };\n    Object.defineProperty(StreamControl.prototype, \"paused\", {\n        get: function () {\n            return this._paused;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamControl.prototype, \"pushing\", {\n        get: function () {\n            return this._pushing;\n        },\n        set: function (pushing) {\n            this._pushing = pushing;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StreamControl.prototype.resume = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var wasPaused;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        wasPaused = this._paused;\n                        this._paused = false;\n                        if (!(wasPaused && !this._pushing)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._push()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    StreamControl.prototype.push = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.pause();\n                        return [4 /*yield*/, this._push()];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Object.defineProperty(StreamControl.prototype, \"pusher\", {\n        get: function () {\n            return this._push;\n        },\n        set: function (push) {\n            this._push = push;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StreamControl;\n}());"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}